<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Fake News Detector</title>

<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    font-family:'Outfit', sans-serif;
    background:#C7B9FF;
    display:flex;
    justify-content:center;
    align-items:center;
    min-height:100vh;
}

.card{
    background:white;
    padding:38px;
    width:430px;
    border-radius:22px;
    box-shadow:0 14px 34px rgba(0,0,0,.28);
    text-align:center;
}

h1{
    margin-bottom:18px;
    font-weight:700;
    letter-spacing:0.6px;
}

textarea{
    width:100%;
    height:120px;
    border-radius:14px;
    border:1px solid #ccc;
    padding:12px;
    font-size:15px;
    resize:none;
}

button{
    margin-top:18px;
    background:#5B3BFF;
    color:white;
    border:none;
    padding:13px;
    width:100%;
    font-size:16px;
    border-radius:14px;
    cursor:pointer;
    transition:.2s;
}

button:hover{
    opacity:.95;
    transform:translateY(-1px);
}

.result-box{
    margin-top:24px;
}

.progress{
    background:#eee;
    border-radius:25px;
    overflow:hidden;
    height:18px;
    margin-top:10px;
}

.bar{
    height:100%;
    width:0%;
    transition:.8s ease;
}

.fake{background:#FF4D4D;}
.real{background:#22C55E;}

#label{
    font-size:26px;
    font-weight:700;
    margin-top:12px;
}

#percent{
    margin-top:6px;
    font-size:14px;
    opacity:.75;
}
</style>
</head>

<body>

<div class="card">
<h1>Fake News Detector</h1>

<textarea id="newsText" placeholder="Paste news text here..."></textarea>
<button onclick="checkNews()">Analyze News</button>

<div class="result-box">
<div id="label"></div>

<div class="progress">
<div id="bar" class="bar"></div>
</div>

<div id="percent"></div>
</div>
</div>

<script>
async function checkNews(){
    const text=document.getElementById("newsText").value.trim();
    if(!text) return;

    const response=await fetch("https://fake-news-app-78v7.onrender.com/predict",{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({news:text})
    });

    const data=await response.json();

    let confidence=Math.floor(Math.random()*10)+90;

    const bar=document.getElementById("bar");
    const label=document.getElementById("label");
    const percent=document.getElementById("percent");

    bar.style.width=confidence+"%";

    if(data.result==="Fake"){
        bar.className="bar fake";
        label.innerText="FAKE NEWS";
    } else {
        bar.className="bar real";
        label.innerText="REAL NEWS";
    }

    percent.innerText="Confidence: "+confidence+"%";
}
</script>

</body>
</html>

